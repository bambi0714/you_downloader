# pyproject.toml

[tool.semantic_release]
# 1. ë²„ì „ ê´€ë¦¬ ëŒ€ìƒ íŒŒì¼
version_source = "tag" #ë²„ì „ ì†ŒìŠ¤ë¥¼ 'tag'ë¡œ ì„¤ì •í•˜ì—¬ Git íƒœê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë²„ì „ì„ ê²°ì •
tag_commit = true # ìƒˆ ë¦´ë¦¬ìŠ¤ ì‹œ Git íƒœê·¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
hvcs = "github" # ì‚¬ìš©í•  í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
branch = "master"
commit_parser = "conventional" # ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì„œë¥¼ Conventional Commits ê·œê²©ìœ¼ë¡œ ì„¤ì •

upload_to_release = true # GitHubì— ë¦´ë¦¬ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

# ë¹Œë“œ ëª…ë ¹ì–´
build_command = """
pyinstaller --onefile --windowed --clean \
  --name YouTubeDownloader \
  --add-binary "ffmpeg/ffmpeg.exe;ffmpeg" \
  "main.py"
"""

# ë¦´ë¦¬ìŠ¤ì— í¬í•¨í•  íŒŒì¼ ì§€ì •
gh_release_glob = ["dist/YouTubeDownloader.exe"]



upload_to_pypi = false

[tool.semantic_release.changelog]
changelog_file = "CHANGELOG.md" # ë³€ê²½ ì´ë ¥(changelog)ì„ ìƒì„±í•  íŒŒì¼ ì´ë¦„ì„ ì§€ì •
include_release_notes = true # ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ë¥¼ changelog íŒŒì¼ì— ì¶”ê°€í• ì§€ ì—¬ë¶€

template = """
# ğŸ“¦ Changelog

{% for version, details in versions %}
## ğŸš€ {{ version | upper }} ({{ details.date.strftime('%Y-%m-%d') }})

{% if details.sections.get("feat") %}
### âœ¨ Features
{% for commit in details.sections["feat"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("fix") %}
### ğŸ› Fixes
{% for commit in details.sections["fix"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("chore") %}
### ğŸ§¹ Chores
{% for commit in details.sections["chore"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("docs") %}
### ğŸ“ Docs
{% for commit in details.sections["docs"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("refactor") %}
### â™»ï¸ Refactors
{% for commit in details.sections["refactor"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("perf") %}
### âš¡ Performance
{% for commit in details.sections["perf"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("test") %}
### âœ… Tests
{% for commit in details.sections["test"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("build") %}
### ğŸ—ï¸ Build
{% for commit in details.sections["build"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("ci") %}
### âš™ï¸ CI
{% for commit in details.sections["ci"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

{% if details.sections.get("style") %}
### ğŸ’… Style
{% for commit in details.sections["style"] %}
- {{ commit.descriptions[0] }} ({{ commit.commit_hash[:7] }})
{% endfor %}
{% endif %}

---
{% endfor %}
"""

#build_command = """
#pyinstaller --onefile --windowed --clean --add-binary "ffmpeg/ffmpeg.exe;ffmpeg" --name "YouTubeDownloader" main.py
#"""

#version_toml = "pyproject.toml:tool.poetry.version" #ë²„ì „ íƒœê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ pyproject.toml íŒŒì¼ì„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸
#commit_version_number = true # ë²„ì „ì´ ì—…ë°ì´íŠ¸ëœ ì»¤ë°‹ì„ ìƒì„±í•©ë‹ˆë‹¤ (version_sourceê°€ 'tag'ì¼ ë•Œ í•„ìš”).
